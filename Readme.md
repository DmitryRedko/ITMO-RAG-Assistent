# Парсер

## Установка необходимых модулей

Для работы с данным скриптом Парсинга необходимо установить следующие модули:

```bash
!pip install beautifulsoup4
!pip install requests
!pip install tqdm
!pip install transformers
!pip install nltk
!pip install torch
```

## Описание файла parser.ipynb

Этот скрипт предназначен для парсинга вакансий с веб-сайта "https://careers.itmo.ru/catalog/". Он собирает информацию о вакансиях, такую как название, компания и описание, а также создает эмбеддинги описаний вакансий с использованием модели BERT.

### Использование

- Запустите все в скрипте parser.ipynb
- Скрипт автоматически соберет информацию о вакансиях с сайта "https://careers.itmo.ru/catalog/".
- После завершения сбора информации, создаст файл vacancies.pt, который будет содержать список словарей с информацией о вакансиях и их эмбеддингами.

### Описание функций

- remove_stopwords(text): Удаляет стоп-слова из текста на русском языке.
- get_bert_embeddings(text): Создает эмбеддинги текста с использованием модели BERT.

### Файлы
- vacancies.pt: Сохраненные данные о вакансиях в формате ".pt".


# RAG модель

## Установка необходимых модулей

Для работы с данным скриптом необходимо установить следующие модули:

```bash
!pip install torch sentencepiece \
  accelerate \
  bitsandbytes \
  git+https://github.com/huggingface/transformers.git@15641892985b1d77acc74c9065c332cd7c3f7d7f \
  git+https://github.com/huggingface/peft.git

```

## Использование модели

Модель используется для генерации ответов на запросы пользователей о вакансиях на основе опыта работы с использованием модели LLM (Large Language Model).

- Запустите модель.
- Введите запрос пользователя о вакансиях.
- RAG предоставит ответ пользователя и список вакансий, наиболее подходящих к запросу.

## Описание модели

Скрипт содержит класс Conversation для обработки диалогов с пользователем и функции для получения и анализа данных о вакансиях.

### Описание функций

- generate(model, tokenizer, prompt, generation_config): Генерирует ответ на запрос пользователя с использованием модели и токенизатора.
- get_similar_jobs(user_experience): Анализирует опыт пользователя и возвращает список наиболее подходящих вакансий.

## Примечания
- Скрипт использует предварительно обученную модель LLM Saiga/Mistral 7B, Russian Mistral-based chatbot  https://huggingface.co/IlyaGusev/saiga_mistral_7b_lora для генерации ответов на запросы пользователей.
- Для работы скрипта необходимо иметь доступ к интернету для загрузки моделей и библиотек.
- Не забудьте сначала запустить парсер, затем путь к своему файлу с базой знаний передать в поле filename

```bash
filename = 'путь_к_базе_знаний'
data = torch.load(filename)
```
